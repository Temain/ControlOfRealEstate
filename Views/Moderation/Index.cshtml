@using ControlOfRealEstate.Models.ModerationViewModels;
@model ModerationViewModel
@{
    Layout = "_LayoutForum";
    ViewBag.Title = "Модерация | Система контроля недвижимости";
}

@inject SignInManager<ApplicationUser> SignInManager

<div class="pusher">
    <div class="ui container">
        <h2 class="ui header" style="margin-bottom: 1em;">Модерация объектов</h2>
        <div class="ui grid">
            <div class="four column row">
                <div class="left floated column">
                    <div class="ui small compact menu">
                        <a class="item">
                           За сегодня <div class="floating ui teal label">22</div>
                        </a>
                        <a class="item">
                            Неутверждённые <div class="floating ui red label">22</div>
                        </a>
                    </div>
                </div>
                <div class="right floated column">
                    <div class="ui icon input" style="float: right;">
                        <input type="text" placeholder="Введите адрес...">
                        <i class="inverted circular search link icon"></i>
                    </div>
                </div>
            </div>
        </div>

        <table class="ui selectable celled small table">
            <thead>
                <tr>
                    <th class="center aligned">#</th>
                    <th class="five wide">Адрес</th>
                    <th class="three wide">Результаты</th>
                    <th class="three wide">Нарушения</th>
                    <th class="three wide center aligned">Статус</th>
                    <th class="one wide center aligned">Добавен</th>
                    <th class="center aligned">Действия</th>
                </tr>
            </thead>
            <tbody>
                @{
                    var index = Model.PageSize * (Model.CurrentPage - 1) + 1;
                    foreach (IllegalObjectViewModel illegalObject in Model.IllegalObjects)
                    {
                        <tr>
                            <td class="center aligned">
                                @index
                                @*<i class="green checkmark icon">&nbsp;@index</i>*@
                            </td>
                            <td>@illegalObject.Address</td>
                            <td>@illegalObject.ResultsOfReview</td>
                            <td>@illegalObject.Infringement</td>
                            <td class="center aligned"><a class="ui small @illegalObject.StatusColor label">@illegalObject.StatusName</a></td>
                            <td class="center aligned"><span>@(illegalObject.CreatedAt != null ? illegalObject.CreatedAt.Value.ToString("dd.MM.yyyy") : "")</span></td>
                            <td class="center aligned"><a href="#"><i class="large black pencil icon"></i></a></td>
                        </tr>

                        index++;
                    }
                }
            </tbody>
            <tfoot>
                <tr>
                    <th colspan="7">
                        <div class="ui right floated small pagination menu">
                            <a class="icon item">
                                <i class="left chevron icon"></i>
                            </a>
                            <a class="item">1</a>
                            <a class="item">2</a>
                            <a class="item">3</a>
                            <a class="item">4</a>
                            <a class="icon item">
                                <i class="right chevron icon"></i>
                            </a>
                        </div>
                    </th>
                </tr>
            </tfoot>
        </table>
    </div>
</div>

@section Scripts {
    <script src="~/lib/jquery-timeago/jquery.timeago.js"></script>
    <script src="~/lib/jquery-timeago/locales/jquery.timeago.ru.js"></script>
    <script>
        $(function () {
        });
    </script>
}